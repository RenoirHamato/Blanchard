function scrollLock(e){startLock||(startLock=e);e-startLock<delay?requestAnimationFrame(scrollLock):(stopScroll.classList.remove("stop-scroll"),stopScroll.removeAttribute("style"),window.removeEventListener("keydown",tabFocus),window.lastFocus.focus(),startLock=null,delay=0)}lazyload();const stopScroll=document.querySelector("body"),burgerButton=document.querySelector(".header__burger"),burgerLine=document.querySelectorAll(".header__line"),burgerBox=document.querySelector(".header__box"),logo=document.querySelector(".header__logo"),burgerScroll=document.querySelector(".header__scroll-box");burgerButton.addEventListener("click",(function(){if(burgerButton.classList.toggle("header__burger--open"),burgerBox.classList.toggle("header__box--active"),burgerBox.classList.contains("header__box--active")){logo.setAttribute("tabindex","-1"),burgerButton.setAttribute("aria-expanded","true"),window.startAnimation=Date.now();let e=stopScroll.clientWidth,t=window.innerWidth;const o=String(t-e);stopScroll.style.paddingRight=o+"px",stopScroll.classList.add("stop-scroll"),window.lastFocus=document.activeElement;const i=burgerBox.querySelectorAll(["a[href]","button","input","select","textarea","[tabindex]"]);window.focusArray=Array.prototype.slice.call(i),window.focusArray.unshift(burgerButton),window.addEventListener("keydown",tabFocus)}else logo.removeAttribute("tabindex"),burgerButton.setAttribute("aria-expanded","false"),delay=Date.now()-window.startAnimation,delay>150&&(delay=150),requestAnimationFrame(scrollLock);burgerLine.forEach((function(e){e.classList.toggle("header__line--passive"),e.classList.toggle("header__line--active")}))}));const headerMenu=document.querySelectorAll(".header__link-anchor");headerMenu.forEach((function(e){e.addEventListener("click",(function(e){burgerButton.classList.toggle("header__burger--open"),burgerBox.classList.toggle("header__box--active"),stopScroll.classList.remove("stop-scroll"),burgerLine.forEach((function(e){e.classList.toggle("header__line--passive"),e.classList.toggle("header__line--active")}));const t=this.getAttribute("href").replace("#","");document.getElementById(t).scrollIntoView({behavior:"smooth"}),e.preventDefault()}))}));const simplebarMenu=new SimpleBar(burgerScroll,{autoHide:!1,scrollbarMaxSize:28,classNames:{content:"header__content-menu",scrollbar:"header__scrollbar-menu",track:"header__track-menu"}}),headerSelectMenu=document.querySelector(".header__menu-select"),headerSelectButton=document.querySelectorAll(".header__button-select"),headerSelectBox=document.querySelectorAll(".header__box-select"),oldMenuAria=0;headerSelectButton.forEach((function(e,t){e.addEventListener("click",(function(){headerSelectButton[menuAria].setAttribute("tabindex","-1");const o=document.querySelector(".header__box-select--active"),i=document.querySelector(".header__button-select--open");o&&this.nextElementSibling!==o&&(o.classList.remove("header__box-select--active"),i.classList.remove("header__button-select--open"),i.setAttribute("aria-expanded","false")),this.nextElementSibling.classList.toggle("header__box-select--active"),e.classList.toggle("header__button-select--open"),e.setAttribute("tabindex","0"),e.classList.contains("header__button-select--open")?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false"),menuAria=t}))})),document.addEventListener("click",(function(e){if(e.target.closest(".header__box-select--active")||e.target.closest(".header__button-select--open"))return;const t=document.querySelector(".header__box-select--active"),o=document.querySelector(".header__button-select--open");t&&(t.classList.remove("header__box-select--active"),o.classList.remove("header__button-select--open"),o.setAttribute("aria-expanded","false"),t.querySelector('[tabindex="0"]')&&t.querySelector('[tabindex="0"]').setAttribute("tabindex","-1"),menuAriaBox=0)}));let menuAria=0,menuAriaBox=0,oldAria=0,newFocus=null;function ariaMenu(e){if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(headerSelectButton[menuAria].setAttribute("tabindex","-1"),headerSelectBox[menuAria].querySelector('[tabindex="0"]')&&headerSelectBox[menuAria].querySelector('[tabindex="0"]').setAttribute("tabindex","-1"),"ArrowRight"===e.key&&(oldAria=menuAria,menuAria++,menuAria>=headerSelectButton.length&&(menuAria=0)),"ArrowLeft"===e.key&&(oldAria=menuAria,menuAria--,menuAria<0&&(menuAria=headerSelectButton.length-1)),headerSelectButton[oldAria].classList.contains("header__button-select--open")&&(headerSelectButton[menuAria].classList.add("header__button-select--open"),headerSelectBox[menuAria].classList.add("header__box-select--active"),headerSelectButton[menuAria].setAttribute("aria-expanded","true"),headerSelectButton[oldAria].classList.remove("header__button-select--open"),headerSelectBox[oldAria].classList.remove("header__box-select--active"),headerSelectButton[oldAria].setAttribute("aria-expanded","false")),headerSelectButton[menuAria].setAttribute("tabindex","0"),headerSelectButton[menuAria].focus(),menuAriaBox=0),"ArrowDown"===e.key){e.preventDefault();let t=headerSelectBox[menuAria].querySelectorAll(".header__item-page > .header__link-page");headerSelectButton[menuAria].classList.contains("header__button-select--open")?headerSelectBox[menuAria].querySelector('[tabindex="0"]')?(t[menuAriaBox].setAttribute("tabindex","-1"),menuAriaBox++,menuAriaBox>=t.length&&(menuAriaBox=0),t[menuAriaBox].setAttribute("tabindex","0"),t[menuAriaBox].focus()):(menuAriaBox=0,t[menuAriaBox].setAttribute("tabindex","0"),t[menuAriaBox].focus()):(menuAriaBox=0,headerSelectButton[menuAria].setAttribute("tabindex","-1"),headerSelectButton[menuAria].classList.add("header__button-select--open"),headerSelectBox[menuAria].classList.add("header__box-select--active"),t[menuAriaBox].setAttribute("tabindex","0"),setTimeout((function(){headerSelectButton[menuAria].setAttribute("aria-expanded","true"),t[menuAriaBox].focus()}),35))}if("ArrowUp"===e.key){e.preventDefault();let t=headerSelectBox[menuAria].querySelectorAll(".header__item-page > .header__link-page");headerSelectButton[menuAria].classList.contains("header__button-select--open")?headerSelectBox[menuAria].querySelector('[tabindex="0"]')?(t[menuAriaBox].setAttribute("tabindex","-1"),menuAriaBox--,menuAriaBox<0&&(menuAriaBox=t.length-1),t[menuAriaBox].setAttribute("tabindex","0"),t[menuAriaBox].focus()):(menuAriaBox=t.length-1,t[menuAriaBox].setAttribute("tabindex","0"),t[menuAriaBox].focus()):(menuAriaBox=t.length-1,headerSelectButton[menuAria].setAttribute("tabindex","-1"),headerSelectButton[menuAria].classList.add("header__button-select--open"),headerSelectBox[menuAria].classList.add("header__box-select--active"),t[menuAriaBox].setAttribute("tabindex","0"),setTimeout((function(){headerSelectButton[menuAria].setAttribute("aria-expanded","true"),t[menuAriaBox].focus()}),35))}"Home"===e.key&&(e.preventDefault(),oldFocus=document.activeElement,oldFocus.setAttribute("tabindex","-1"),newFocus=document.activeElement.closest("ul").firstElementChild.querySelector("button, a"),newFocus.closest(".header__list-page")?menuAriaBox=0:(headerSelectButton[menuAria].classList.remove("header__button-select--open"),headerSelectBox[menuAria].classList.remove("header__box-select--active"),headerSelectButton[menuAria].setAttribute("aria-expanded","false"),menuAria=0),newFocus.setAttribute("tabindex","0"),newFocus.focus()),"End"===e.key&&(e.preventDefault(),oldFocus=document.activeElement,oldFocus.setAttribute("tabindex","-1"),newFocus=document.activeElement.closest("ul").lastElementChild.querySelector("button, a"),newFocus.closest(".header__list-page")?menuAriaBox=document.activeElement.closest("ul").querySelectorAll("a").length-1:(headerSelectButton[menuAria].classList.remove("header__button-select--open"),headerSelectBox[menuAria].classList.remove("header__box-select--active"),headerSelectButton[menuAria].setAttribute("aria-expanded","false"),menuAria=headerSelectButton.length-1),newFocus.setAttribute("tabindex","0"),newFocus.focus()),"Escape"===e.key&&headerSelectButton[menuAria].classList.contains("header__button-select--open")&&(headerSelectButton[menuAria].setAttribute("tabindex","0"),headerSelectButton[menuAria].classList.remove("header__button-select--open"),headerSelectBox[menuAria].classList.remove("header__box-select--active"),headerSelectButton[menuAria].setAttribute("aria-expanded","false"),document.activeElement&&document.activeElement.setAttribute("tabindex","-1"),setTimeout((function(){headerSelectButton[menuAria].focus()}),10),menuAriaBox=0),"Tab"===e.key&&(headerSelectMenu.querySelector('[tabindex="0"]').setAttribute("tabindex","-1"),headerSelectButton.forEach((function(e){e.classList.remove("header__button-select--open"),e.setAttribute("aria-expanded","false"),e.nextElementSibling.classList.remove("header__box-select--active"),e.setAttribute("aria-expanded","false")})),headerSelectButton[menuAria].setAttribute("tabindex","0"),menuAriaBox=0,e.shiftKey&&(e.preventDefault(),document.querySelector(".header__button-login").focus()))}headerSelectMenu.addEventListener("keydown",ariaMenu),Array.prototype.forEach.call(document.querySelectorAll(".header__scroll-select"),(e=>new SimpleBar(e,{autoHide:!1,scrollbarMaxSize:28,classNames:{track:"header__track-select",scrollbar:"header__scrollbar-select"}})));let wrapper=document.querySelectorAll(".simplebar-content-wrapper");function sizeScroll(){if(window.innerWidth>1919){let e=null,t=0;document.querySelectorAll(".header__list-page > .header__item-page:nth-child(-n+4)").forEach(((o,i,a)=>{e||(e=o.parentElement),e.contains(o)&&(t+=o.offsetHeight),e.contains(o)&&i!==a.length-1||(a[i-1].closest(".header__scroll-select").style.maxHeight=t+3*getComputedStyle(o).marginBottom.replace("px","")+2+"px",t=o.offsetHeight,e=o.parentElement)}))}}wrapper.forEach((function(e){e.removeAttribute("tabindex"),e.removeAttribute("role"),e.removeAttribute("aria-label")})),sizeScroll(),window.addEventListener("resize",sizeScroll);let searchOpen=document.querySelector(".header__open-search"),searchBox=document.querySelector(".header__box-search"),searchClose=document.querySelector(".header__close-search"),searchInput=document.querySelector(".header__input-search");searchOpen.addEventListener("click",(function(){searchBox.classList.add("header__box-search--active"),searchOpen.classList.add("header__open-search--active"),window.innerWidth<1024&&(burgerButton.setAttribute("tabindex","-1"),logo.setAttribute("tabindex","-1")),searchOpen.setAttribute("tabindex","-1"),searchInput.focus()})),searchClose.addEventListener("click",(function(){searchOpen.classList.remove("header__open-search--active"),burgerButton.removeAttribute("tabindex"),logo.removeAttribute("tabindex"),searchOpen.removeAttribute("tabindex"),searchBox.classList.remove("header__box-search--active"),searchOpen.focus()})),document.addEventListener("click",(function(e){if(e.target.closest(".header__box-search--active")||e.target.closest(".header__open-search--active"))return;const t=document.querySelector(".header__open-search--active"),o=document.querySelector(".header__box-search--active");o&&(t.classList.remove("header__open-search--active"),o.classList.remove("header__box-search--active"))}));const previewSlider=document.querySelector(".header__wrapper"),arrowImages=Array.from(previewSlider.children);let oldImage=0,newImage=0,startTime=null,controlReturn=!1;function imageChange(e){startTime||(startTime=e);const t=e-startTime;t>9e3&&0==controlReturn&&(arrowImages[oldImage].classList.remove("header__image--return"),oldImage=newImage,newImage=(newImage+1)%arrowImages.length,oldImage==arrowImages.length-1&&arrowImages[oldImage].classList.add("header__image--return"),arrowImages[newImage].classList.add("header__image--active"),controlReturn=!0),t>1e4&&(arrowImages[oldImage].classList.remove("header__image--active"),startTime=e,controlReturn=!1),requestAnimationFrame(imageChange)}function clearing(e){for(;e.firstChild;)e.firstChild.remove()}function tabFocus(e){if("Tab"==e.code&&(overlay.classList.contains("gallery__overlay--active")||burgerBox.classList.contains("header__box--active"))){const t=window.focusArray.indexOf(document.activeElement);e.shiftKey&&0===t&&(window.focusArray[window.focusArray.length-1].focus(),e.preventDefault()),e.shiftKey||t!==window.focusArray.length-1||(window.focusArray[0].focus(),e.preventDefault())}}requestAnimationFrame(imageChange),document.querySelector(".preview__button").addEventListener("click",(function(){document.getElementById("contacts").scrollIntoView({behavior:"smooth"})}));const overlay=document.querySelector(".gallery__overlay"),boxModal=document.querySelector(".gallery__modal"),modalClose=document.querySelector(".gallery__close-modal");let startLock=null,delay=null;modalClose.addEventListener("click",(function(){delay=Date.now()-window.startAnimation,delay>300&&(delay=300),boxModal.classList.remove("gallery__modal--active"),overlay.classList.remove("gallery__overlay--active"),requestAnimationFrame(scrollLock),window.removeEventListener("keydown",tabFocus)})),overlay.addEventListener("click",(function(e){boxModal.contains(e.target)||(delay=Date.now()-window.startAnimation,delay>300&&(delay=300),boxModal.classList.remove("gallery__modal--active"),overlay.classList.remove("gallery__overlay--active"),requestAnimationFrame(scrollLock),window.removeEventListener("keydown",tabFocus))})),document.body.addEventListener("keyup",(function(e){"Escape"==e.code&&boxModal.classList.contains("gallery__modal--active")&&(delay=Date.now()-window.startAnimation,delay>300&&(delay=300),boxModal.classList.remove("gallery__modal--active"),overlay.classList.remove("gallery__overlay--active"),requestAnimationFrame(scrollLock),window.removeEventListener("keydown",tabFocus))}));const element=document.querySelector(".gallery__select"),choices=new Choices(element,{searchEnabled:!1,itemSelectText:"",allowHTML:!1,shouldSort:!0,position:"bottom",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"}});document.querySelector(".choices").setAttribute("role","combobox"),document.querySelector(".choices").setAttribute("aria-labelledby","gallery-span"),document.querySelector(".choices").setAttribute("aria-controls","choices-listbox"),document.querySelector(".choices__list:first-child").setAttribute("id","choices-listbox"),document.querySelector(".choices__item--selectable").removeAttribute("aria-selected"),element.addEventListener("showDropdown",(function(){document.querySelectorAll(".choices__item--choice").forEach((function(e){e.classList.remove("is-highlighted")})),document.querySelector(".choices__item--choice:first-child").classList.add("is-highlighted")})),async function(){const e=await fetch("./json/pictures.json"),t=await e.json(),o=document.querySelector(".gallery__select"),i=document.querySelector(".gallery__list-swiper");function a(e){window.filteredCards=t.filter((t=>t.category===e));const o=window.filteredCards.map((e=>{let t="";return t+=`\n                <li class="gallery__item-swiper swiper-slide">\n                    <button class="gallery__card-swiper button-reset flex" id="${e.id}">\n                        <picture class="gallery__picture-swiper">\n                            <source srcset="${e.img320}" media="(max-width: 767px)">\n                            <source srcset="${e.img768}" media="(max-width: 1023px)">\n                            <source srcset="${e.img1024}" media="(max-width: 1919px)">\n                            <img class="gallery__img-swiper" src="${e.img1920}" alt="${e.alt}" aria-live="off">\n                        </picture>\n                    </button>\n                </li>`,t})).join("");i.insertAdjacentHTML("beforeend",o);document.querySelectorAll(".gallery__card-swiper").forEach((function(e){e.addEventListener("click",n)}))}function n(){const e=document.querySelector(".gallery__content-modal");window.lastFocus=document.activeElement,clearing(e);const o=t.filter((e=>e.category===r)),i=this.id,a=`\n            <picture class="gallery__picture-modal">\n                <source srcset="${o[i].modal320}" media="(max-width: 767px)" />\n                <source srcset="${o[i].modal768}" media="(max-width: 1023px)" />\n                <source srcset="${o[i].modal1024}" media="(max-width: 1919px)" />\n                <img class="gallery__img-modal" src="${o[i].modal1920}" alt="${o[i].altModal}" />\n            </picture>\n            <div class="gallery__information-modal">\n                <div class="gallery__scroll-modal">\n                    <h3 class="gallery__subject-modal subject" id="modal-title">\n                        ${o[i].author}\n                        <span class="gallery__name-modal">"${o[i].name}"</span>\n                    </h3>\n                    <time class="gallery__date-modal span-gray" datetime="${o[i].datetime}">${o[i].date}</time>\n                    <p class="gallery__modal-text text">\n                        ${o[i].text}\n                    </p>\n                </div>\n            </div>\n        `;e.insertAdjacentHTML("afterbegin",a),window.startAnimation=Date.now();let n=stopScroll.clientWidth,s=window.innerWidth;const c=String(s-n);boxModal.classList.add("gallery__modal--active"),overlay.classList.add("gallery__overlay--active"),stopScroll.classList.add("stop-scroll"),stopScroll.style.paddingRight=c+"px";new SimpleBar(document.querySelector(".gallery__scroll-modal"),{scrollbarMaxSize:28,classNames:{track:"gallery__track-modal",scrollbar:"gallery__scrollbar-modal"}});const l=document.querySelector(".gallery__modal").querySelectorAll(["a[href]","button","input","select","textarea","[tabindex]"]);window.focusArray=Array.prototype.slice.call(l),window.addEventListener("keydown",tabFocus),modalClose.focus()}const s=new Swiper(".gallery__swiper",{slidesPerView:1,spaceBetween:50,slidesPerGroup:1,a11y:!1,grid:{rows:1,fill:"row"},loop:!1,navigation:{nextEl:".gallery__buttondark--right",prevEl:".gallery__buttondark--left",disabledClass:"buttondark--disabled",lockClass:"buttondark--lock"},pagination:{el:".gallery__number",type:"fraction",lockClass:"gallery__pagination--lock"},observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{3840:{slidesPerView:3,spaceBetween:100,slidesPerGroup:3,grid:{rows:2,fill:"row"}},1920:{slidesPerView:3,spaceBetween:50,slidesPerGroup:3,grid:{rows:2,fill:"row"}},768:{slidesPerView:2,spaceBetween:34,slidesPerGroup:2,grid:{rows:2,fill:"row"}}},watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"gallery__slide-visible",on:{update:function(){let e=this.slides.length;this.slides.forEach((function(t,o){t.classList.contains("gallery__slide-visible")?(t.querySelector(".gallery__card-swiper").setAttribute("tabindex",""),t.querySelector(".gallery__card-swiper").setAttribute("aria-hidden","false")):(t.querySelector(".gallery__card-swiper").setAttribute("tabindex","-1"),t.querySelector(".gallery__card-swiper").setAttribute("aria-hidden","true")),t.querySelector(".gallery__card-swiper").setAttribute("aria-label",`${window.filteredCards[o].alt} (${o+1} из ${e})`)})),document.querySelector(".gallery__pictures").setAttribute("aria-roledescription",`карусель из ${e} элементов`)},slideChange:function(){this.slides.forEach((function(e){e.classList.contains("gallery__slide-visible")?(e.querySelector(".gallery__card-swiper").setAttribute("tabindex",""),e.querySelector(".gallery__card-swiper").setAttribute("aria-hidden","false")):(e.querySelector(".gallery__card-swiper").setAttribute("tabindex","-1"),e.querySelector(".gallery__card-swiper").setAttribute("aria-hidden","true"))}))}}});let r=o.value;document.querySelector(".is-selected").remove(),a(r),s.update(),o.addEventListener("change",(function(e){clearing(i),r=e.target.value,document.querySelector(".is-selected").remove(),a(r),s.update(),s.slideTo(0,300)}))}(),async function(){const e=await fetch("./json/catalog.json"),t=await e.json();t.map((e=>e.country)).filter((function(e,t,o){return o.indexOf(e)===t})),t.map((e=>e.country+"-"+e.id));const o=document.querySelectorAll(".catalog__radio-country"),i=document.querySelectorAll(".catalog__content-time"),a=document.querySelector(".catalog__left");document.querySelector(".catalog__list-artist");function n(e){const t=document.querySelector(`[data-target="${e}"]`),o=document.querySelector(`[data-step="${e}"]`),i=document.querySelector(".catalog__post--active"),a=document.querySelector(".catalog__tab--active");i&&(i.classList.remove("catalog__post--active"),a.classList.remove("catalog__tab--active"),a.setAttribute("aria-selected","false"),a.closest("div")===o.closest("div")&&a.setAttribute("tabindex","-1")),o.closest("ul").querySelector('[tabindex="0"]')&&o.closest("ul").querySelector('[tabindex="0"]').setAttribute("tabindex","-1"),t.classList.add("catalog__post--active"),o.classList.add("catalog__tab--active"),o.setAttribute("aria-selected","true"),o.setAttribute("tabindex","0")}function s(e){let t=this.querySelectorAll("li"),o=this.querySelector('[tabindex="0"]').closest("li");"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),o.querySelector("button").setAttribute("tabindex","-1"),"ArrowDown"===e.key&&(!o.nextElementSibling||o.nextElementSibling.classList.contains("catalog__plug-artist")?t[0].querySelector("button").setAttribute("tabindex","0"):o.nextElementSibling.querySelector("button").setAttribute("tabindex","0")),"ArrowUp"===e.key&&(o.previousElementSibling?o.previousElementSibling.querySelector("button").setAttribute("tabindex","0"):t[t.length-1].classList.contains("catalog__plug-artist")?t[t.length-2].querySelector("button").setAttribute("tabindex","0"):t[t.length-1].querySelector("button").setAttribute("tabindex","0")),this.querySelector('[tabindex="0"]').focus()),"Home"===e.key&&(e.preventDefault(),oldFocus=document.activeElement,oldFocus.setAttribute("tabindex","-1"),newFocus=document.activeElement.closest("ul").firstElementChild.querySelector("button"),newFocus.setAttribute("tabindex","0"),newFocus.focus()),"End"===e.key&&(e.preventDefault(),oldFocus=document.activeElement,oldFocus.setAttribute("tabindex","-1"),newFocus=document.activeElement.closest("ul").lastElementChild.querySelector("button"),newFocus||(newFocus=this.querySelector(".catalog__plug-artist").previousElementSibling.querySelector("button")),newFocus.setAttribute("tabindex","0"),newFocus.focus())}function r(e){!function(e){const o=t.filter((t=>t.country===e)),s='\n        <div class="catalog__null flex">\n            <picture class="catalog__picture-null">\n                <source srcset="./img/catalog-320-figure.webp" media="(max-width: 767px)" />\n                <source srcset="./img/catalog-768-figure.webp" media="(max-width: 1023px)" />\n                <source srcset="./img/catalog-1024-figure.webp" media="(max-width: 1919px)" />\n                <img class="catalog__img-null" src="./img/catalog-1920-figure.webp" alt="Прямоугольная фигура (заглушка)" />\n            </picture>\n            <div class="catalog__information-null">\n                <p class="catalog__text-null">Здесь пока пусто</p>\n                <span class="catalog__span-null">\n                    А&nbsp;в&nbsp;галерее вы&nbsp;всегда можете найти что-то\n                    интересное для себя\n                </span>\n                <a class="catalog__link-null" href="#gallery">В галерею</a>\n            </div>\n        </div>\n        ';if(clearing(a),i.forEach((function(t){clearing(t);const i=t.getAttribute("data-time"),n=o.filter((e=>e.timeline===i));let r=n.map((t=>{let o="";return o+=`\n                <li class="catalog__item-artist" role="none">\n                <button\n                    class="catalog__button-artist button-reset text"\n                    id="tab-${t.id}"\n                    type="button"\n                    data-step="${e}-${t.id}"\n                    role="tab"\n                    aria-selected="false"\n                    aria-controls="tabpanel-${t.id}"\n                    `,t===n[0]?o+=`\n                            tabindex="0"\n                        >\n                        ${t.preview}\n                        </a>\n                        </li>\n                    `:o+=`\n                        tabindex="-1"\n                        >\n                        ${t.preview}\n                    </button>\n                </li>\n                `,o})).join("");const c=n.map((t=>{let o="";return 0!==Object.keys(t.content).length?o+=`\n                        <div\n                        class="catalog__post"\n                        id="tabpanel-${t.id}"\n                        role="tabpanel"\n                        aria-labelledby="tab-${t.id}"\n                        data-target="${e}-${t.id}"\n\n                    >\n                        <picture class="catalog__picture">\n                            <source srcset="${t.content.img320}" media="(max-width: 767px)" />\n                            <source srcset="${t.content.img768}" media="(max-width: 1023px)" />\n                            <source srcset="${t.content.img1024}" media="(max-width: 1919px)" />\n                            <img class="catalog__img" src="${t.content.img1920}" alt="${t.content.alt}" />\n                        </picture>\n\n                        <h3 class="catalog__subject subject">${t.name}</h3>\n                        <span class="catalog__date span-gray">\n                        <time class="catalog__birthday" datetime="${t.content.birthdayTime}">${t.content.birthday}</time>&nbsp;&mdash; <time class="catalog__death" datetime="${t.content.deathTime}">${t.content.death}</time>.\n                        </span>\n                        <p class="catalog__description text">\n                            ${t.content.text}\n                        </p>\n                    </div>`:o+=`\n                        <div \n                        class="catalog__post"\n                        id="tabpanel-${t.id}"\n                        role="tabpanel"\n                        aria-labelledby="tab-${t.id}"\n                        data-target="${e}-${t.id}">\n                        <picture class="catalog__picture">\n                            <source srcset="./img/catalog-320-null.webp" media="(max-width: 767px)" />\n                            <source srcset="./img/catalog-768-null.webp" media="(max-width: 1023px)" />\n                            <source srcset="./img/catalog-1024-null.webp" media="(max-width: 1919px)" />\n                            <img class="catalog__img" src="./img/catalog-1920-null.webp" alt="Портрет художника (заглушка)" />\n                        </picture>\n                        <h4 class="catalog__subject subject">Что мы о нём знаем?</h4>\n                        <p class="catalog__description text">\n                            Пока ничего... Зато мы&nbsp;точно знаем, что в&nbsp;галерее есть\n                            на&nbsp;что посмотреть!\n                        </p>\n                        <a class="catalog__link-null" href="#gallery">В галерею</a>\n                    </div>`,o})).join("");""!=n?(t.insertAdjacentHTML("beforeend",'\n                    <ul class="catalog__list-artist list-reset" role="tablist">\n                    </ul>'),t.querySelector(".catalog__list-artist").insertAdjacentHTML("beforeend",r+'\n                    <li class="catalog__plug-artist">&nbsp;</li>'),a.insertAdjacentHTML("beforeend",c)):t.insertAdjacentHTML("beforeend",s)})),a.firstChild){const t=o.findIndex((e=>0!==Object.keys(e.content).length));n(-1!=t?e+"-"+o[t].id:e+"-"+o[0].id)}else a.insertAdjacentHTML("beforeend",'\n                <div class="catalog__post catalog__post--active">\n                    <picture class="catalog__picture">\n                        <source srcset="./img/catalog-320-null.webp" media="(max-width: 767px)" />\n                        <source srcset="./img/catalog-768-null.webp" media="(max-width: 1023px)" />\n                        <source srcset="./img/catalog-1024-null.webp" media="(max-width: 1919px)" />\n                        <img class="catalog__img" src="./img/catalog-1920-null.webp" alt="Портрет художника (заглушка)" />\n                    </picture>\n                    <h4 class="catalog__subject subject">Что мы о нём знаем?</h4>\n                    <p class="catalog__description text">\n                        Пока ничего... Зато мы&nbsp;точно знаем, что в&nbsp;галерее есть\n                        на&nbsp;что посмотреть!\n                    </p>\n                    <a class="catalog__link-null" href="#gallery">В галерею</a>\n                </div>');document.querySelectorAll(".catalog__button-artist").forEach((function(e){e.addEventListener("click",(function(){n(e.getAttribute("data-step")),window.innerWidth<1024?document.getElementById("artist").scrollIntoView({behavior:"smooth"}):document.getElementById("catalog").scrollIntoView({behavior:"smooth"})}))}));document.querySelectorAll(".catalog__link-null").forEach((function(e){e.addEventListener("click",(function(e){document.querySelector("#gallery").scrollIntoView({behavior:"smooth"}),e.preventDefault()}))}))}(e),i.forEach((function(e){e.querySelector(".catalog__link-null")||e.addEventListener("keydown",s)}))}r(document.querySelector(".catalog__radio-country[checked]").value),o.forEach((function(e){e.addEventListener("change",(function(e){r(e.target.value),document.getElementById("catalog").scrollIntoView({behavior:"smooth"})}))}));new Accordion(".catalog__list-time",{duration:300,elementClass:"catalog__item-time",triggerClass:"catalog__button-time",panelClass:"catalog__content-time",activeClass:"catalog__item-time--active"}).open(0)}();const buttonMore=document.querySelector(".events__button");var cardItem=document.querySelectorAll(".events__item");const nextFocus=document.querySelector(".events__item--hidden").querySelector(".events__link");buttonMore.addEventListener("click",(function(){buttonMore.classList.add("events__button--hidden"),cardItem.forEach((function(e){e.classList.remove("events__item--hidden"),e.classList.remove("events__item--hidden-768")})),nextFocus.focus()}));const containerEvents=document.querySelector(".big-section__container"),swiperBoxEvents=document.querySelector(".events__swiper"),swiperListEvents=document.querySelector(".events__list"),swiperItemEvents=document.querySelectorAll(".events__item");function adaptiveSwiperEvents(){containerEvents.clientWidth<768&&0==swiperBoxEvents.classList.contains("swiper-initialized")&&(swiperListEvents.classList.remove("events__list--no-swiper"),window.swiperEvents=new Swiper(".events__swiper",{a11y:{enabled:!1},init:!0,spaceBetween:0,slidesPerView:1,maxBackfaceHiddenSlides:0,pagination:{el:".events__pagination",type:"bullets",bulletActiveClass:"events__circle--active",bulletClass:"events__circle",clickable:!0}})),containerEvents.clientWidth>=768&&1==swiperBoxEvents.classList.contains("swiper-initialized")&&(window.swiperEvents.destroy(!0,!0),swiperListEvents.classList.add("events__list--no-swiper"))}adaptiveSwiperEvents(),window.addEventListener("resize",adaptiveSwiperEvents);const fromCost=document.querySelector('[data-name="from"'),toCost=document.querySelector('[data-name="to"'),inputCost=new Inputmask("numeric",{rightAlign:!1,groupSeparator:" ",max:5e4});inputCost.mask(fromCost),inputCost.mask(toCost);const listCheckbox=document.querySelector(".editions__list-category"),listChecked=document.querySelector(".editions__list-checked"),inputCheckbox=document.querySelectorAll(".editions__checkbox-category"),buttonAccordeon=document.querySelector(".editions__button-accordion");function accordeonAnimation(){window.myAnimationAccordeon&&(clearTimeout(window.myAnimationAccordeon),window.myAnimationAccordeon=0),window.myAnimationAccordeon=setTimeout((function(){listCheckbox.classList.remove("editions__list-category--animation"),window.myAnimationAccordeon=0}),300)}function accordeonEditions(){this.classList.toggle("editions__button-accordion--active"),listCheckbox.classList.add("editions__list-category--animation"),accordeonAnimation(),this.classList.contains("editions__button-accordion--active")?listCheckbox.style.maxHeight=listCheckbox.scrollHeight+"px":listCheckbox.style.maxHeight=0}function permutation(){const e=Array.from(inputCheckbox).filter((e=>1==e.checked));window.innerWidth<768&&!listChecked.classList.contains("editions__list-checked--active")&&(listChecked.classList.add("editions__list-checked--active"),e.forEach(separation),inputCheckbox.forEach((function(e){e.addEventListener("change",rearrangingCheckboxes)}))),window.innerWidth>=768&&listChecked.classList.contains("editions__list-checked--active")&&(listChecked.classList.remove("editions__list-checked--active"),e.forEach(unification),inputCheckbox.forEach((function(e){e.removeEventListener("change",rearrangingCheckboxes)})),listCheckbox.removeAttribute("style"))}function rearrangingCheckboxes(){this.checked?separation(this):unification(this),buttonAccordeon.classList.contains("editions__button-accordion--active")&&(listCheckbox.style.maxHeight=listCheckbox.scrollHeight+"px")}function separation(e){listChecked.prepend(e.closest(".editions__item-category"))}function unification(e){const t=Array.from(inputCheckbox).filter((e=>0==e.checked)),o=Number(e.closest(".editions__item-category").getAttribute("data-category")),i=t.findIndex((e=>Number(e.closest(".editions__item-category").getAttribute("data-category"))>o));-1!=i?t[i].closest(".editions__item-category").before(e.closest(".editions__item-category")):listCheckbox.append(e.closest(".editions__item-category"))}buttonAccordeon.addEventListener("click",accordeonEditions),permutation(),window.addEventListener("resize",permutation),async function(){const e=await fetch("./json/editions.json"),t=await e.json(),o=document.querySelector(".editions__swiper"),i=document.querySelector(".editions__null-swiper"),a=document.querySelector(".editions__list-swiper"),n=document.querySelectorAll(".editions__checkbox-category"),s=document.querySelectorAll(".editions__input-cost");let r=!1,c=Array.from(n);function l(e,o,i){const a=e.filter((e=>e.checked)).map((e=>e.value)),n=t.filter((e=>e.cost>=o&&e.cost<=i));if(0===a.length)d(n);else{d(n.filter((e=>a.some((t=>e.category.split(", ").indexOf(t)>=0)))))}}function d(e){window.ariaContent=e;for(let t=0;t<e.length;t++)a.insertAdjacentHTML("beforeend",`\n                <li class="editions__item-swiper swiper-slide">\n                    <picture class="editions__picture-swiper">\n                        <source srcset="${e[t].img320}" media="(max-width: 767px)">\n                        <source srcset="${e[t].img768}" media="(max-width: 1023px)">\n                        <source srcset="${e[t].img1024}" media="(max-width: 1919px)">\n                        <img class="editions__img-swiper lazyload" src="${e[t].img1920}" alt="${e[t].alt}">\n                    </picture>\n                    <div class="editions__box-swiper flex">\n                        <div class="editions__information-swiper">\n                            <h3 class="editions__subject-swiper subject">\n                                ${e[t].name}\n                            </h3>\n                            <span class="editions__author-swiper span-little">\n                                ${e[t].authors}\n                            </span>\n                        </div>\n                        <span class="editions__price-swiper">\n                            ${e[t].cost} руб.\n                        </span>\n                    </div>\n                    <button class="editions__button-swiper button-reset button-big">\n                        Заказать\n                    </button>\n                </li>\n            `);document.querySelector(".editions__item-swiper")?i.classList.remove("editions__null-swiper--active"):i.classList.add("editions__null-swiper--active"),!0===r&&(window.swiperEditions.update(),window.swiperEditions.slideTo(0,200))}function u(){window.innerWidth<769&&!0===o.classList.contains("swiper-initialized")&&(window.swiperEditions.destroy(!0,!0),buttonAccordeon.setAttribute("tabindex","0"),r=!1),window.innerWidth>=768&&!1===o.classList.contains("swiper-initialized")&&(buttonAccordeon.setAttribute("tabindex","-1"),r=!0,document.querySelector(".editions__button-accordion").classList.remove("editions__button-accordion--active"),window.swiperEditions=new Swiper(".editions__swiper",{spaceBetween:0,slidesPerView:1,maxBackfaceHiddenSlides:0,a11y:!1,navigation:{nextEl:".editions__buttondark--right",prevEl:".editions__buttondark--left",disabledClass:"buttondark--disabled",lockClass:"buttondark--lock"},pagination:{el:".editions__number",type:"fraction",lockClass:"editions__pagination--lock"},breakpoints:{3840:{slidesPerView:3,spaceBetween:100,slidesPerGroup:3},1920:{slidesPerView:3,spaceBetween:50,slidesPerGroup:3},1024:{slidesPerView:2,spaceBetween:49,slidesPerGroup:2},768:{slidesPerView:2,spaceBetween:34,slidesPerGroup:2}},watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"editions__visible-swiper",on:{update:function(){let e=this.slides.length;this.slides.forEach((function(t,o){t.classList.contains("editions__visible-swiper")?(t.querySelector(".editions__button-swiper").setAttribute("tabindex",""),t.setAttribute("aria-hidden","false")):(t.querySelector(".editions__button-swiper").setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true")),t.querySelector(".editions__button-swiper").setAttribute("aria-label",`Заказать ${window.ariaContent[o].aria} (${o+1} из ${e})`)})),document.querySelector(".editions__products").setAttribute("aria-roledescription",`карусель из ${e} элементов`)},slideChange:function(){this.slides.forEach((e=>{e.classList.contains("editions__visible-swiper")?(e.querySelector(".editions__button-swiper").setAttribute("tabindex",""),e.setAttribute("aria-hidden","false")):(e.querySelector(".editions__button-swiper").setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"))}))}}}))}u(),window.addEventListener("resize",u);let m=Number(document.querySelector('[data-name="from"').value.replaceAll(" ","")),_=Number(document.querySelector('[data-name="to"').value.replaceAll(" ",""));l(c,m,_),n.forEach((e=>{e.addEventListener("change",(function(){clearing(a),c=Array.from(n),l(c,m,_)}))})),s.forEach((e=>{e.addEventListener("change",(function(){m=Number(document.querySelector('[data-name="from"').value.replaceAll(" ","")),_=Number(document.querySelector('[data-name="to"').value.replaceAll(" ","")),clearing(a),c=Array.from(n),l(c,m,_)})),e.addEventListener("keyup",(function(e){(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||"Backspace"===e.key||"Delete"===e.key)&&(clearing(document.querySelector('[id="editions-to"]')),clearing(document.querySelector('[id="editions-from"]')),document.querySelector('[id="editions-to"]').insertAdjacentHTML("afterbegin",Number(document.querySelector('[data-name="to"').value.replaceAll(" ",""))),document.querySelector('[id="editions-from"]').insertAdjacentHTML("afterbegin",Number(document.querySelector('[data-name="from"').value.replaceAll(" ",""))))}))}))}();let tooltip=document.querySelectorAll(".projects__button-tooltip"),tooltipBox=document.querySelectorAll(".projects__span-tooltip");function tooltipPosition(){for(let e=0;e<tooltip.length;e++){let t=document.querySelector(".projects__arrow-tooltip").clientHeight,o=tooltip[e].getBoundingClientRect().left+.5*tooltip[e].clientWidth,i=document.querySelector(".projects").clientHeight-tooltip[e].offsetTop+t;tooltipBox[e].style.setProperty("--mouse-x",o+"px"),tooltipBox[e].style.setProperty("bottom",i+"px")}}tooltip.forEach((function(e){e.addEventListener("click",(function(){const t=document.querySelector(".projects__span-tooltip--active"),o=document.querySelector(".projects__arrow-tooltip--active"),i=document.querySelector(".projects__cross-tooltip--active"),a=e.previousElementSibling,n=e.querySelector(".projects__arrow-tooltip"),s=e.querySelector(".projects__cross-tooltip");t&&a!==t&&(t.classList.remove("projects__span-tooltip--active"),o.classList.remove("projects__arrow-tooltip--active"),i.classList.remove("projects__cross-tooltip--active"),i.closest(".projects__button-tooltip").setAttribute("aria-expanded","false"),this.setAttribute("aria-expanded","true")),a.classList.toggle("projects__span-tooltip--active"),n.classList.toggle("projects__arrow-tooltip--active"),s.classList.toggle("projects__cross-tooltip--active"),a.classList.contains("projects__span-tooltip--active")?this.setAttribute("aria-expanded","true"):this.setAttribute("aria-expanded","false")}))})),window.addEventListener("load",tooltipPosition),window.addEventListener("resize",tooltipPosition);const swiperProjects=new Swiper(".projects__swiper",{slidesPerView:1,slidesPerGroup:1,spaceBetween:5,loop:!1,a11y:!1,navigation:{nextEl:".projects__buttonlight--right",prevEl:".projects__buttonlight--left",disabledClass:"projects__buttonlight--disabled"},breakpoints:{1440:{slidesPerView:3,spaceBetween:50,slidesPerGroup:3},1024:{slidesPerView:2,spaceBetween:50,slidesPerGroup:2},500:{slidesPerView:2,spaceBetween:34,slidesPerGroup:2}},watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"projects__visible-swiper",on:{update:function(){this.slides.forEach((e=>{e.classList.contains("projects__visible-swiper")?(e.querySelector(".projects__link-swiper").setAttribute("tabindex",""),e.querySelector(".projects__link-swiper").setAttribute("aria-hidden","false")):(e.querySelector(".projects__link-swiper").setAttribute("tabindex","-1"),e.querySelector(".projects__link-swiper").setAttribute("aria-hidden","true"))}))},slideChange:function(){this.slides.forEach((e=>{e.classList.contains("projects__visible-swiper")?(e.querySelector(".projects__link-swiper").setAttribute("tabindex",""),e.querySelector(".projects__link-swiper").setAttribute("aria-hidden","false")):(e.querySelector(".projects__link-swiper").setAttribute("tabindex","-1"),e.querySelector(".projects__link-swiper").setAttribute("aria-hidden","true"))}))}}}),telephone=document.querySelector('input[type="tel"]'),im=new Inputmask("+7(999)-999-99-99");function init(){var e=new ymaps.Map("blanchardMap",{center:[55.7595,37.6099],zoom:14.223,controls:[]},{suppressMapOpenBlock:!0}),t=ymaps.templateLayoutFactory.createClass('<div class="contacts__container-map flex"><button class="contacts__button-map button-reset" id="zoom-in" aria-label="увеличить масштаб карты"><svg class="contacts__svg-map plus" xmlns="http://www.w3.org/2000/svg"><use xlink:href="#plus"></use></svg></button><button class="contacts__button-map button-reset" id="zoom-out" aria-label="уменьшить масштаб карты"><svg class="contacts__svg-map minus" xmlns="http://www.w3.org/2000/svg"><use xlink:href="#minus"></use></svg></button></div>',{build:function(){t.superclass.build.call(this),this.zoomInCallback=ymaps.util.bind(this.zoomIn,this),this.zoomOutCallback=ymaps.util.bind(this.zoomOut,this),document.getElementById("zoom-in").addEventListener("click",this.zoomInCallback),document.getElementById("zoom-out").addEventListener("click",this.zoomOutCallback)},clear:function(){document.getElementById("zoom-in").removeEventListener("click",this.zoomInCallback),document.getElementById("zoom-out").removeEventListener("click",this.zoomOutCallback),t.superclass.clear.call(this)},zoomIn:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()+1,{checkZoomRange:!0})},zoomOut:function(){var e=this.getData().control.getMap();e.setZoom(e.getZoom()-1,{checkZoomRange:!0})}}),o=new ymaps.control.ZoomControl({options:{layout:t}}),i=new ymaps.control.GeolocationControl({options:{layout:ymaps.templateLayoutFactory.createClass('<div class="contacts__container-map flex"><button class="contacts__button-map button-reset" id="geo" aria-label="определить ваше местоположение"><svg class="contacts__svg-map geolocation" xmlns="http://www.w3.org/2000/svg"><use xlink:href="#geolocation"></use></svg></button></div>'),position:{top:"353rem",right:"11rem"}}}),a=new ymaps.Placemark([55.758468,37.601088],{},{iconLayout:"default#image",iconImageHref:"../img/contacts-map-point.svg",iconImageSize:[20,20],iconImageOffset:[-6,-16]});e.behaviors.disable("scrollZoom"),e.behaviors.enable("multiTouch"),e.events.add("click",(function(){e.behaviors.enable("scrollZoom")})),e.geoObjects.add(a),e.controls.add(o,{position:{top:"260rem",right:"11rem"}}),e.controls.add(i),document.querySelector(".ymaps-2-1-79-copyright__logo").setAttribute("aria-label","Яндекс"),document.querySelector(".ymaps-2-1-79-copyright__logo").setAttribute("href","#")}im.mask(telephone),new window.JustValidate(".contacts__form",{colorWrong:"#d11616",rules:{name:{required:!0,minLength:2,maxLength:30},tel:{required:!0,function:()=>{const e=telephone.inputmask.unmaskedvalue();return Number(e)&&10===e.length}}},messages:{name:{required:"Вы не ввели имя",minLength:"Минимальное количество символов: 2",maxLength:"Максимальное количество символов: 30"},tel:{required:"Вы не ввели телефон",function:"Недопустимый формат"}},submitHandler:function(e){let t=new FormData(e),o=null;function i(e){o||(o=e);e-o<5e3?requestAnimationFrame(i):(document.querySelector(".contacts__status").classList.remove("contacts__status--successfully"),document.querySelector(".contacts__status").classList.remove("contacts__status--error"),document.querySelector(".contacts__button").classList.remove("contacts__button--disabled"),document.querySelector(".contacts__button").removeAttribute("tabindex"))}document.querySelector(".contacts__button").classList.add("contacts__button--disabled"),document.querySelector(".contacts__button").setAttribute("tabindex","-1"),document.querySelector(".contacts__preloader").classList.add("contacts__preloader--active"),(async e=>{(await fetch("mail.php",{method:"POST",body:e})).ok?(document.querySelector(".contacts__preloader").classList.remove("contacts__preloader--active"),document.querySelector(".contacts__status").classList.add("contacts__status--successfully"),requestAnimationFrame(i)):(document.querySelector(".contacts__preloader").classList.remove("contacts__preloader--active"),document.querySelector(".contacts__status").classList.add("contacts__status--error"),requestAnimationFrame(i))})(t),e.reset()}}),ymaps.ready(init);